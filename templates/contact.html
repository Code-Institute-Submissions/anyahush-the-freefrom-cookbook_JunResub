{% extends "base.html" %}

{% block content %}

<div class="container">
    <div class="row">
        <div class="col s12 center-align">
            <h3>Contact</h3>
            <hr>
        </div>
        <div class="row">
            <div class="col s12 l6 offset-l3">
                <div class="card-panel">
                    <div class="row">
                        <div class="col s12 center-align">
                            <h6>Any questions or feedback, <br>
                                 we would love to hear from you!</h6>
                        </div>
                    </div>
                    <div class="row">
                        <!-- Contact form -->
                        <form class="col s12" id="contact-form">
                                <div class="input-field col s12">
                                    <p id="required"><em>* required</em></p>
                                    <p>Full Name *</p>
                                    <input id="name" name="name" type="text" class="validate" placeholder="Full Name" value="{{ name }}" title="Full name with letters" pattern="^[a-zA-Z ]+[a-zA-Z]\S+$" required>
                                    <label for="name" class="sr-only">Full Name</label>
                                </div>
                                <div class="input-field col s12">
                                    <p>Email *</p>
                                    <input id="email" name="email" type="email" class="validate" placeholder="Email" value="{{ email }}" required>
                                    <label for="email" class="sr-only">Email</label>
                                </div>
                                <div class="input-field col s12">
                                    <p>Message *</p>
                                    <textarea  id="message" name="message" cols="40" rows="10" placeholder="Message" title="Message between 20 and 500 characters" minlength="20" maxlength="500" required></textarea>
                                    <label for="message" class="sr-only">Message</label>
                                </div>
                                <div class="col s12">
                                <!-- Send Button -->
                                </div>
                                <div class="col s12 center-align">
                                    <button id="submit-button" type="submit" class="btn">Send</button>
                                </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
                <!-- Modal on successful submission of form from Materialize -->
                <!-- Help from Pocket Bookcase was used, full details in README -->
                <div class="modal" id="submit-modal">
                    <div class="modal-content">
                        <h5 id="response-header" class="center-align"><i class="fa-solid fa-envelope"></i>Thank you for contacting us!</h5>
                        <p id="response-message"class="center-align">We will be in touch soon. <br>
                            In the meantime, we hope you get inspired and enjoy cooking!
                        </p>
                    </div>
                    <div class="modal-footer">
                        <a href="{{url_for('index') }}" class="modal-close waves-effect waves-green btn-flat"><i class="fa-solid fa-xmark"></i></a>
                    </div>
                </div>
        </div>
    </div>
</div>

{% endblock %}

<!-- Page specific scripts -->
{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
<script src="{{ url_for('static', filename='js/contact.js') }}"></script>
{% endblock %}